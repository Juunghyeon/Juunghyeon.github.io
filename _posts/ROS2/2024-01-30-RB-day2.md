---
layout: single
title: "ROS2 Day2"
categories:
  - ROS2
tag:
  - ROS2

# toc: true
---

# Package
### Package 란?
하나 이상의 노드 또는 노드 실행을 위한 정보 등을 묶어 놓은 것을 패키지(Package)라고 하며, 패키지의 묶음을 메타패키지(Metapackage)라 부른다.
- **파일 관점:** 관련된 라이브러리, 모델링 파일들, 설정 파일들을 모아둔 폴더
- **기능 관점:** 시뮬레이션, 하드웨어 관련, 모델링, 원격 조종 등으로 분리시킨 모듈
    - **_control:** 원격 조종과 관련된 패키지
    - **_description:** 로봇의 외관과 관련 모델링과 관련된 패키지
    - **_drive:** 실질적인 하드웨어 드라이브와 상호작용과 관련된 패키지
- 더불어 **colcon build**가 수행되는 **빌드의 단위**

이때 "_control, _description, _drive"과 같은 형식들은 암묵적인 형식이다. 한 폴더에 모두 넣고 패키지를 실행할 수도 있지만, 패키지를 분리하여 선택적으로 패키지를 실행함으로써 업무의 효율을 높일 수 있다.

**ament**를 사용하여 패키지를 만들 수 있다.
```bash
$ ros2 pkg create --build-type ament_cmake  <패키지이름> --dependencies rclcpp <종속성> 
$ ros2 pkg create --build-type ament_python <패키지이름> --dependencies rclpy <종속성> 
```
- **'--build-type ament_cmake'** : 이 옵션은 패키지의 빌드 시스템을 지정. ROS 2에서는 Ament 빌드 시스템을 사용하며, 'ament_cmake'는 그 중 하나. 따라서 패키지의 빌드를 위해 CMake를 사용하게 됨.
- **'<패키지이름>'** : 생성할 패키지의 이름을 지정. 이 부분에 원하는 패키지 이름을 입력.
- **'--dependencies rclcpp'** :  이 옵션은 패키지가 의존하는 라이브러리나 패키지를 지정. 여기서는 rclcpp 라이브러리에 대한 의존성을 추가하고 있음. 'rclcpp'는 ROS 2에서 사용되는 C++ 라이브러리로, ROS 클라이언트 라이브러리 중 하나.
- **'<종속성>'** : 추가적으로 패키지가 의존하는 다른 패키지들을 지정할 수 있음. 여러 종속성을 추가하려면 각 패키지를 공백으로 구분하여 나열하면 됨.

이 명령어를 실행하면 지정한 옵션과 종속성을 가진 ROS 2 패키지의 기본 구조가 생성. 생성된 패키지는 'src', 'include', 'launch', 'test' 등의 디렉토리를 포함하며, 해당 디렉토리들에는 패키지의 소스 코드, 헤더 파일, 런치 파일, 테스트 코드 등이 위치. 이렇게 생성된 패키지를 기반으로 원하는 ROS 2 노드 및 기능을 개발할 수 있음.

